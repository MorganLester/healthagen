app.controller("MenuController",function(e,t,a){e.closeMenu=function(){$(".mp-pusher").removeClass("mp-pushed"),$(".mp-overlay").hide()},e.close=function(){$(".mp-pusher").removeClass("mp-pushed"),$(".mp-overlay").hide(),$("body").removeClass("annotate")},e.annotate=function(){$("body").toggleClass("annotate")}}),app.controller("HeaderController",function(e,t,a){e.bodyClass=function(e){$("body").removeClass("body-assessment"),$("body").addClass("body-"+e)},e.hamburger=function(){$(".mp-pusher").hasClass("mp-pushed")?($(".mp-pusher").removeClass("mp-pushed"),$(".mp-overlay").hide()):($(".mp-overlay").show(),$(".mp-pusher").addClass("mp-pushed"))}}),app.controller("annotationController",function(e){e.annotate=function(){$("body").removeClass("annotate")}}),app.controller("NavbarController",function(e,t,a,s,n){function o(){var t=a.patientID?parseInt(a.patientID):0;if(t>0){e.patient=n.getPatient(t);for(var s=0;s<e.patient.hotspots.length;s++)"history"==e.patient.hotspots[s].flag?e.historyNav=!0:"conditions"==e.patient.hotspots[s].flag||"diagnoses"==e.patient.hotspots[s].flag?e.conditionsNav=!0:"meds"==e.patient.hotspots[s].flag||"allergies"==e.patient.hotspots[s].flag?e.medsNav=!0:"goals"==e.patient.hotspots[s].flag||"playlists"==e.patient.hotspots[s].flag?e.goalsNav=!0:"assessments"==e.patient.hotspots[s].flag?e.assessmentsNav=!0:"vitals"==e.patient.hotspots[s].flag||"labs"==e.patient.hotspots[s].flag?e.vitalsNav=!0:"procedures"==e.patient.hotspots[s].flag||"immunizations"==e.patient.hotspots[s].flag?e.proceduresNav=!0:"docs"==e.patient.hotspots[s].flag&&(e.docsNav=!0)}}e.patient={},e.historyNav=!1,e.conditionsNav=!1,e.medsNav=!1,e.goalsNav=!1,e.assessmentsNav=!1,e.proceduresNav=!1,e.vitalsNav=!1,e.docsNav=!1,e.getClass=function(e){return s.path().substr(0,e.length)==e?!0:!1},e.title=t.current.title,o()}),app.controller("titleController",function(e,t,a){e.$on("$routeChangeSuccess",function(){e.title=t.current.title})}),app.controller("bodyController",function(e,t,a){e.$on("$routeChangeSuccess",function(){$("body").removeClass("body-assessment body-messages"),e.bodyClass=t.current.bodyClass})}),app.controller("OverlayController",function(e){e.closeOverlay=function(){$(".mp-pusher").removeClass("mp-pushed"),$(".mp-overlay").hide()}}),app.controller("ConditionsController",function(e,t,a){function s(){e.conditions=a.getConditions(),e.diagnoses=a.getDiagnoses();var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.conditions=[],e.diagonses=[],e.patient={},e.selectedCondition=[],s(),e.orderby="title",e.reverse=!1,e.setOrder=function(t){"asc"===t&&(e.reverse=!1),"desc"===t&&(e.reverse=!0),"risk"===t&&(e.orderby=t)},e.gridConditions={data:"conditions",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"40%"},{field:"tests",displayName:"Tests",width:"15%"},{field:"notes",displayName:"Notes",width:"15%"},{field:"risk",displayName:"Risk Level",width:"30%"}],rowHeight:45,selectedItems:e.selectedCondition,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-conditions.html" bs-aside="aside" data-container=".page-wrapper"></div></div>'},e.gridDiagnoses={data:"diagnoses",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"date",displayName:"Date",width:"20%"},{field:"code",displayName:"Code",width:"20%"},{field:"description",displayName:"Description",width:"60%"}],enableRowSelection:!1,rowHeight:48,enableRowSelection:!1}}),app.controller("MedsController",function(e,t,a){function s(){e.medications=a.getMedications();var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.medications=[],e.patient={},s(),e.orderby="title",e.reverse=!1,e.setOrder=function(t){"asc"===t&&(e.reverse=!1),"desc"===t&&(e.reverse=!0)}}),app.controller("GoalsController",function(e,t,a){function s(){var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.patient={},s()}),app.controller("HistoryController",function(e,t,a){function s(){var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.patient={},s()}),app.controller("VitalsController",function(e,t,a){function s(){e.vitals=a.getVitals(),e.labs=a.getLabs();var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.vitals=[],e.labs=[],e.patient={},e.selectedVital=[],s(),e.gridVitals={data:"vitals",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"50%"},{field:"result",displayName:"Result",width:"10%"},{field:"range",displayName:"Healthy Range",width:"15%"},{field:"date",displayName:"Date",width:"15%"},{field:"source",displayName:"Source",width:"10%"}],rowHeight:45,selectedItems:e.selectedVital,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-vitals.html" bs-aside="aside" data-container=".page-wrapper"></div></div>'},e.gridLabs={data:"labs",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"50%"},{field:"result",displayName:"Result",width:"10%"},{field:"range",displayName:"Healthy Range",width:"15%"},{field:"date",displayName:"Date",width:"15%"},{field:"source",displayName:"Source",width:"10%"}],rowHeight:45,selectedItems:e.selectedVital,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-lab.html" bs-aside="aside" data-container=".page-wrapper"></div></div>'}}),app.controller("AssessmentsController",function(e,t,a){function s(){e.problems=a.getProblems();var s=t.patientID?parseInt(t.patientID):0;s>0&&(e.patient=a.getPatient(s))}e.problems=[],e.patient={},e.selectedProblem=[],s(),e.gridProblems={data:"problems",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"50%"},{field:"encounter",displayName:"Encounter",width:"15%"},{field:"assessment",displayName:"Assessment",width:"35%"}],rowHeight:45,selectedItems:e.selectedProblem,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell"><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-problems.html" bs-aside="aside" data-container=".page-wrapper"></div></div>'}}),app.controller("ProceduresController",function(e,t,a,s){function n(){e.procedures=s.getProcedures(),e.immunizations=s.getProcedures();var a=t.patientID?parseInt(t.patientID):0;a>0&&(e.patient=s.getPatient(a))}e.patient={},e.procedures=[],e.immunizations=[],e.selectedProcedure=[],e.selectedImmunization=[],n(),e.gridProcedures={data:"procedures",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"85%"},{field:"total",displayName:"total",width:"15%"}],rowHeight:45,selectedItems:e.selectedProcedure,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-class="{yellow: row.getProperty(\'title\') === \'Screen Clinical Depression\'}"><div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-procedures.html" bs-aside="aside" data-container=".page-wrapper"></div></div></div>'},e.gridImmunizations={data:"immunizations",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"85%"},{field:"total",displayName:"total",width:"15%"}],rowHeight:45,selectedItems:e.selectedImmunization,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-class="{yellow: row.getProperty(\'title\') === \'Screen Clinical Depression\'}"><div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-immunizations.html" bs-aside="aside" data-container=".page-wrapper"></div></div></div>'}}),app.controller("DocsController",function(e,t){function a(){e.customers=t.getCustomers()}e.customers=[],a()}),app.controller("MessagesController",function(e,t,a){function s(){e.messages=a.getMessages(),e.patients=a.getPatients();var s=t.patientID?parseInt(t.patientID):1;s>0&&(e.patient=a.getPatient(s))}e.patient={},e.patients=[],e.messages=[],e.thisOne=1,s(),e.tabs=[{title:"Patients",template:"app/partials/tabs/messages-patients.html",content:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica."},{title:"Staff",content:"Staff content..."}],e.tabs.activeTab=0}),app.controller("WatchlistController",function(e,t){function a(){e.patients=t.getPatients()}e.patients=[],a(),e.foldWatchlist=function(e){var t=e;$("#tile-watchlist-"+t).find(".tile-inner").toggleClass("white")}}),app.controller("TasksController",function(e,t,a,s){function n(){e.patients=s.getPatients(),e.playlists=s.getPlaylists()}e.patients=[],e.playlists=[],e.day="",e.getManager="",e.getDoctor="",e.doctors=[],e.snoozeButtons=!1,e.managers=["(You)"],e.placeholder="Find Tasks...",e.getGender="",e.genders=[],n(),e.snooze=function(t){angular.forEach(e.patients,function(e){1==e.checked&&(e.tasks.time=t)})},e.archive=function(){for(var t=e.patients.length-1;t>=0;t--)1==e.patients[t].checked&&e.patients.splice(t,1)},e.$watch("patients",function(t,s){var n=a("filter")(t,{checked:!0});e.snoozeButtons=n.length},!0),e.checkAllToday=function(){e.selectedToday?(e.selectedToday=!0,e.snoozeButtons=!0):(e.selectedToday=!1,e.snoozeButtons=!1),angular.forEach(e.patients,function(t){"Today"==t.tasks.time&&(t.checked=e.selectedToday)})},e.checkAllTomorrow=function(){e.selectedTomorrow?(e.selectedTomorrow=!0,e.snoozeButtons=!0):(e.selectedTomorrow=!1,e.snoozeButtons=!1),angular.forEach(e.patients,function(t){"Tomorrow"==t.tasks.time&&(t.checked=e.selectedTomorrow)})},e.checkAllTwo=function(){e.selectedTwo?(e.selectedTwo=!0,e.snoozeButtons=!0):(e.selectedTwo=!1,e.snoozeButtons=!1),angular.forEach(e.patients,function(t){"2 Days from now"==t.tasks.time&&(t.checked=e.selectedTwo)})},e.checkAllWeek=function(){e.selectedWeek?(e.selectedWeek=!0,e.snoozeButtons=!0):(e.selectedWeek=!1,e.snoozeButtons=!1),angular.forEach(e.patients,function(t){"Next Week"==t.tasks.time&&(t.checked=e.selectedWeek)})},e.removeManager=function(t,a){e.getManager="",e.managers.splice(t,1)},e.removeDoctor=function(t,a){e.getDoctor="",e.doctors.splice(t,1)},e.addDoctor=function(t){e.getDoctor="",e.doctors=[],e.getDoctor=t,e.doctors.push(t)},e.addGender=function(t){e.getGender="",e.genders=[],e.getGender=t,e.genders.push(t)},e.removeGender=function(t,a){e.getGender="",e.genders=[]},e.fold=function(e){var t=e;$("#tile-"+t).find(".tile-inner").toggleClass("white")},e.foldRollup=function(e){var t=e;$("#tile-rollup-"+t).find(".tile-inner").toggleClass("white")}}),app.controller("ProfileController",function(e,t,a,s,n){e.tabs=[{title:"Patient",template:"app/partials/tabs/profile-patient.html",content:"[replaced by template]"},{title:"Tasks",template:"app/partials/tabs/profile-tasks.html",content:"[replaced by template]"},{title:"Messages",template:"app/partials/tabs/profile-messages.html",content:"[replaced by template]"},{title:"Encounter",template:"app/partials/tabs/profile-encounter.html",content:"[replaced by template]"}],e.tabs.activeTab=0,e.gotoTop=function(){var e=t.hash();t.hash("top"),s(),t.hash(e)},e.bodyClass=function(e){$("body").removeClass("body-messages"),$("body").addClass("body-"+e)},e.openEncounter=function(){var e=a({backdrop:!1,placement:"bottom",animation:"am-slide-bottom",template:"app/partials/panels/assessment.html"})}}),app.controller("AllPatientsController",function(e,t){function a(){e.patients=t.getPatients()}e.patients=[],e.getDoctor="",e.doctors=[],e.getManager="",e.managers=["(You)"],e.getGender="",e.genders=[],e.placeholder="Find Patients...",a(),e.removeDoctor=function(t,a){e.getDoctor="",e.doctors.splice(t,1)},e.addDoctor=function(t){e.getDoctor="",e.doctors=[],e.getDoctor=t,e.doctors.push(t)},e.addGender=function(t){e.getGender="",e.genders=[],e.getGender=t,e.genders.push(t)},e.removeGender=function(t,a){e.getGender="",e.genders=[]},e.addManager=function(t){e.getManager="",e.managers=[],e.getManager="Miriam"==t?"(You)":"Rosenovich, J.",e.managers.push(e.getManager)},e.removeManager=function(t,a){e.getManager="",e.managers.splice(t,1)},e.fold=function(e){var t=e;$("#tile-"+t).find(".tile-inner").toggleClass("white")},e.foldRollup=function(e){var t=e;$("#tile-rollup-"+t).find(".tile-inner").toggleClass("white")},e.foldPatients=function(e){var t=e;$("#tile-patients-"+t).find(".tile-inner").toggleClass("white")},e.exceptEmptyComparator=function(e,t){return t?angular.equals(t,e):!0}}),app.controller("EncounterController",function(e,t,a,s){function n(){var a=t.patientID?parseInt(t.patientID):0;a>0&&(e.patient=s.getPatient(a)),e.recs=s.getRecAssessments(),e.questions=s.getQuestions(),e.assessments=s.getAssessments()}function o(e){document.getElementById(e).getElementsByTagName("timer")[0].start()}function l(e){document.getElementById(e).getElementsByTagName("timer")[0].stop()}function i(){var e=$(".panel-assessment").height()-40;$(".panel-assessment").css($(".aside").hasClass("minimized")?{"-webkit-transform":"translateY("+e+"px)","-moz-transform":"translateY("+e+"px)","-ms-transform":"translateY("+e+"px)",transform:"translateY("+e+"px)"}:{"-webkit-transform":"translateY(0)","-moz-transform":"translateY(0)","-ms-transform":"translateY(0)",transform:"translateY(0)"})}e.patient={},e.recs=[],e.questions=[],e.assessments=[],e.closeType=!0,e.closed=!1,e.current=!1,e.next=["What do you do to check your <strong>blood sugar</strong>?","Are you experiencing <strong>swelling</strong> or redness in your <strong>limbs</strong>?","Do you have <strong>trouble sleeping</strong>? Sleep Apnea.","What is your <strong>workout</strong> regimen?","Do you have a <strong>family</strong> history of <strong>Diabetes</strong>?"],n(),e.selected=void 0,e.states=["What, if anything, do you know about what blood pressure numbers mean?","Do you know your most recent blood pressure?","What has your doctor told you about what your blood pressure should be?","Has your doctor given you a target value for what your blood pressure should be?"],e.today=function(){e.dt=new Date},e.today(),e.showWeeks=!1,e.toggleWeeks=function(){e.showWeeks=!e.showWeeks},e.clear=function(){e.dt=null},e.disabled=function(e,t){return"day"===t&&(0===e.getDay()||6===e.getDay())},e.toggleMin=function(){e.minDate=e.minDate?null:new Date},e.toggleMin(),e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened=!0},e.dateOptions={"year-format":"'yy'","starting-day":1,"show-weeks":!1},e.formats=["dd-MMMM-yyyy","yyyy/MM/dd","shortDate"],e.format=e.formats[0],e.button={},e.gridAllAssessments={data:"assessments",plugins:[new ngGridFlexibleHeightPlugin,new ngGridAddClassToLastRow("row-last")],columnDefs:[{field:"title",displayName:"Name",width:"60%"},{field:"category",displayName:"Category",width:"25%"},{field:"status",displayName:"Status",width:"15%"}],rowHeight:45,selectedItems:e.selectedProcedure,multiSelect:!1,enableRowSelection:!1,rowTemplate:'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell "><div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }"> </div><div ng-cell data-placement="bottom" data-animation="am-slide-bottom" data-template="app/partials/panels/module-procedures.html" bs-aside="aside" data-container=".page-wrapper"></div></div>'},e.minimize=function(){$(".aside").toggleClass("minimized"),i()},e.swapClose=function(){e.closeType=!e.closeType},e.stopResumeTimer=function(t){"Start"==$(".stop-resume").text()?($("timer")[0].start(),$(".stop-resume").text("Stop"),e.closeType=!0):"Stop"==$(".stop-resume").text()?($("timer")[0].stop(),$(".stop-resume").text("Resume"),e.closeType=!1):($("timer")[0].resume(),$(".stop-resume").text("Stop"),e.closeType=!0)},window.onresize=i,e.tabs=[{title:"Assessments",template:"app/partials/tabs/assessments-recommended.html",content:"[replaced by template]"},{title:"Problems & Playlists",template:"app/partials/tabs/assessments-all.html",content:"[replaced by template]"}],e.tabs.activeTab=0,e.currentOpen=function(){e.current=!0,$(".find-question").removeClass("hotbox")},e.currentDone=function(){e.closed=!0,e.next=["What, if anything, do you know about what <strong>blood pressure</strong> numbers mean?","Has your doctor given you a target value for what your <strong>blood pressure</strong> should be?","What is your <strong>workout</strong> regimen?","Do you have a <strong>family</strong> history of <strong>Diabetes</strong>?","Do you have <strong>trouble sleeping</strong>? Sleep Apnea."],$("#bar-29, #bar-tied-40").addClass("finished")},e.undo=function(){e.button={},e.pressure={},e.closed=!1,$("#bar-29, #bar-tied-40").removeClass("finished")},e.setNo=function(){$("#bar-29, #bar-tied-40").addClass("finished finished-problem")},e.closeEncounter=function(){$(".panel-assessment").removeClass("minimized"),$(".panel-assessment").attr("data-state","closed")}}),app.controller("StyleController",function(e,t,a){e.jumpTo=function(e){var s=t.hash();t.hash(e),a(),t.hash(s)},e.fold=function(){$("#tile-00").find(".tile-inner").toggleClass("white")},e.hamburger=function(){$(".mp-pusher").hasClass("mp-pushed")?($(".mp-pusher").removeClass("mp-pushed"),$(".mp-overlay").hide()):($(".mp-overlay").show(),$(".mp-pusher").addClass("mp-pushed"))}});