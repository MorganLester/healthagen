app.directive("animatedView",["$route","$compile","$controller",function(e,n,t){return{restrict:"ECA",terminal:!0,link:function(i,o,a){function r(){m&&(m.$destroy(),m=null)}function l(){o.html(""),r()}function c(){v=e.current&&e.current.locals,w=v&&v.$template,w?h.disabled?s():o.children().length>0?u(h.viewExitAnimation):d(h.viewEnterAnimation):l()}function d(e){s()}function u(e){switch(e){case"fadeOut":$(o.children()).animate({},h.duration,function(){d("slideLeft")});break;case"slideLeft":break;case"slideRight":$(o.children()).animate({left:"+="+h.slideAmount,opacity:1},h.duration)}}function s(){o.html(w),r();var a=n(o.contents()),l=e.current,c;m=l.scope=i.$new(),l.controller&&(v.$scope=m,c=t(l.controller,v),o.children().data("$ngControllerController",c)),a(m),m.$emit("$viewContentLoaded"),m.$eval(f)}var m,f=a.onload||"",h={duration:0,viewEnterAnimation:"slideLeft",viewExitAnimation:"fadeOut",slideAmount:0,disabled:!1},v,w,p=i.$eval(a.animations);angular.extend(h,p),i.$on("$routeChangeSuccess",c),c()}}}]);